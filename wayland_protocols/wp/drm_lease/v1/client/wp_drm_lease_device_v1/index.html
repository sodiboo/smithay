<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="lease device"><title>wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1 - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../../../static.files/rustdoc-42fa08075bb476ff.css"><meta name="rustdoc-vars" data-root-path="../../../../../../" data-static-root-path="../../../../../../static.files/" data-current-crate="wayland_protocols" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0-nightly (363ae4188 2024-09-24)" data-channel="nightly" data-search-js="search-e056c65ede92db13.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../../../../../../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../../../static.files/main-54bc299d2a5e4e43.js"></script><noscript><link rel="stylesheet" href="../../../../../../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../../../wayland_protocols/index.html">wayland_<wbr>protocols</a><span class="version">0.32.4</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module wp_<wbr>drm_<wbr>lease_<wbr>device_<wbr>v1</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In wayland_<wbr>protocols::<wbr>wp::<wbr>drm_<wbr>lease::<wbr>v1::<wbr>client</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../../../../index.html">wayland_protocols</a>::<wbr><a href="../../../../index.html">wp</a>::<wbr><a href="../../../index.html">drm_lease</a>::<wbr><a href="../../index.html">v1</a>::<wbr><a href="../index.html">client</a></span><h1>Module <span>wp_drm_lease_device_v1</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../../../src/wayland_protocols/wp.rs.html#49-52">source</a> </span></div><span class="item-info"><div class="stab portability">Available on <strong>crate features <code>staging</code> and <code>client</code></strong> only.</div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>lease device</p>
<p>This protocol is used by Wayland compositors which act as Direct
Rendering Manager (DRM) masters to lease DRM resources to Wayland
clients.</p>
<p>The compositor will advertise one wp_drm_lease_device_v1 global for each
DRM node. Some time after a client binds to the wp_drm_lease_device_v1
global, the compositor will send a drm_fd event followed by zero, one or
more connector events. After all currently available connectors have been
sent, the compositor will send a wp_drm_lease_device_v1.done event.</p>
<p>When the list of connectors available for lease changes the compositor
will send wp_drm_lease_device_v1.connector events for added connectors and
wp_drm_lease_connector_v1.withdrawn events for removed connectors,
followed by a wp_drm_lease_device_v1.done event.</p>
<p>The compositor will indicate when a device is gone by removing the global
via a wl_registry.global_remove event. Upon receiving this event, the
client should destroy any matching wp_drm_lease_device_v1 object.</p>
<p>To destroy a wp_drm_lease_device_v1 object, the client must first issue
a release request. Upon receiving this request, the compositor will
immediately send a released event and destroy the object. The client must
continue to process and discard drm_fd and connector events until it
receives the released event. Upon receiving the released event, the
client can safely cleanup any client-side resources.</p>
<p>Warning! The protocol described in this file is currently in the testing
phase. Backward compatible changes may be added together with the
corresponding interface version bump. Backward incompatible changes can
only be done by creating a new major version of the extension.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.WpDrmLeaseDeviceV1.html" title="struct wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::WpDrmLeaseDeviceV1">WpDrm<wbr>Lease<wbr>Device<wbr>V1</a></div><div class="desc docblock-short">lease device</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Event.html" title="enum wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::Event">Event</a></div></li><li><div class="item-name"><a class="enum" href="enum.Request.html" title="enum wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::Request">Request</a></div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.EVT_CONNECTOR_OPCODE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::EVT_CONNECTOR_OPCODE">EVT_<wbr>CONNECTO<wbr>R_<wbr>OPCODE</a></div><div class="desc docblock-short">The wire opcode for this event</div></li><li><div class="item-name"><a class="constant" href="constant.EVT_CONNECTOR_SINCE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::EVT_CONNECTOR_SINCE">EVT_<wbr>CONNECTO<wbr>R_<wbr>SINCE</a></div><div class="desc docblock-short">The minimal object version supporting this event</div></li><li><div class="item-name"><a class="constant" href="constant.EVT_DONE_OPCODE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::EVT_DONE_OPCODE">EVT_<wbr>DONE_<wbr>OPCODE</a></div><div class="desc docblock-short">The wire opcode for this event</div></li><li><div class="item-name"><a class="constant" href="constant.EVT_DONE_SINCE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::EVT_DONE_SINCE">EVT_<wbr>DONE_<wbr>SINCE</a></div><div class="desc docblock-short">The minimal object version supporting this event</div></li><li><div class="item-name"><a class="constant" href="constant.EVT_DRM_FD_OPCODE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::EVT_DRM_FD_OPCODE">EVT_<wbr>DRM_<wbr>FD_<wbr>OPCODE</a></div><div class="desc docblock-short">The wire opcode for this event</div></li><li><div class="item-name"><a class="constant" href="constant.EVT_DRM_FD_SINCE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::EVT_DRM_FD_SINCE">EVT_<wbr>DRM_<wbr>FD_<wbr>SINCE</a></div><div class="desc docblock-short">The minimal object version supporting this event</div></li><li><div class="item-name"><a class="constant" href="constant.EVT_RELEASED_OPCODE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::EVT_RELEASED_OPCODE">EVT_<wbr>RELEASE<wbr>D_<wbr>OPCODE</a></div><div class="desc docblock-short">The wire opcode for this event</div></li><li><div class="item-name"><a class="constant" href="constant.EVT_RELEASED_SINCE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::EVT_RELEASED_SINCE">EVT_<wbr>RELEASE<wbr>D_<wbr>SINCE</a></div><div class="desc docblock-short">The minimal object version supporting this event</div></li><li><div class="item-name"><a class="constant" href="constant.REQ_CREATE_LEASE_REQUEST_OPCODE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::REQ_CREATE_LEASE_REQUEST_OPCODE">REQ_<wbr>CREAT<wbr>E_<wbr>LEAS<wbr>E_<wbr>REQUES<wbr>T_<wbr>OPCODE</a></div><div class="desc docblock-short">The wire opcode for this request</div></li><li><div class="item-name"><a class="constant" href="constant.REQ_CREATE_LEASE_REQUEST_SINCE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::REQ_CREATE_LEASE_REQUEST_SINCE">REQ_<wbr>CREAT<wbr>E_<wbr>LEAS<wbr>E_<wbr>REQUES<wbr>T_<wbr>SINCE</a></div><div class="desc docblock-short">The minimal object version supporting this request</div></li><li><div class="item-name"><a class="constant" href="constant.REQ_RELEASE_OPCODE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::REQ_RELEASE_OPCODE">REQ_<wbr>RELEAS<wbr>E_<wbr>OPCODE</a></div><div class="desc docblock-short">The wire opcode for this request</div></li><li><div class="item-name"><a class="constant" href="constant.REQ_RELEASE_SINCE.html" title="constant wayland_protocols::wp::drm_lease::v1::client::wp_drm_lease_device_v1::REQ_RELEASE_SINCE">REQ_<wbr>RELEAS<wbr>E_<wbr>SINCE</a></div><div class="desc docblock-short">The minimal object version supporting this request</div></li></ul></section></div></main></body></html>